# Change Log

All notable changes to this project will be documented in this file
automatically by Versionist. DO NOT EDIT THIS FILE MANUALLY!
This project adheres to [Semantic Versioning](http://semver.org/).

# v14.8.0
## (2023-04-13)

* Update dependency node to v18.16.0 [Renovate Bot]

# v14.7.4
## (2023-04-05)

* Update dependency npm to v9.6.4 [Renovate Bot]

# v14.7.3
## (2023-03-30)

* Update dependency npm to v9.6.3 [Renovate Bot]

# v14.7.2
## (2023-03-22)

* Maintain legacy docker tags behaviour [Kyle Harding]

# v14.7.1
## (2023-03-20)

* Update dependency npm to v9.6.2 [Renovate Bot]

# v14.7.0
## (2023-03-20)

* Update dependency node [Renovate Bot]

# v14.6.1
## (2023-03-14)

* Restart confd if it fails to start [Anton Belodedenko]

# v14.6.0
## (2023-03-02)

* Update dependency npm to 9.6.0 [Renovate Bot]

# v14.5.4
## (2023-02-22)

* Update Node.js to v18.14.2 [Renovate Bot]

# v14.5.3
## (2023-02-22)

* Update dependency npm to 9.5.1 [Renovate Bot]

# v14.5.2
## (2023-02-21)

* Update dependency node to 18.14.2 [Renovate Bot]

# v14.5.1
## (2023-02-20)

* Update no-systemd nodejs to 18.14.1 [Page-]

# v14.5.0
## (2023-02-17)

* Update dependency npm to 9.5.0 [Renovate Bot]

# v14.4.2
## (2023-02-16)

* Update dependency node to 18.14.1 [Renovate Bot]

# v14.4.1
## (2023-02-03)

* Resolve some apt warnings by adding protection flags [Kyle Harding]
* Clear the npm cache manually before running cache clear [Kyle Harding]

# v14.4.0
## (2023-02-03)

* Update nodejs to 18.14.0 and npm to 9.4.1 [Pagan Gazzard]

# v14.3.0
## (2023-02-02)

* Update dependency node to 18.14.0 [Renovate Bot]

# v14.2.0
## (2023-01-09)

* Update to nodejs 18.13.0 [Pagan Gazzard]

# v14.1.4
## (2022-12-14)

* no-systemd: Use official node base image [Kyle Harding]

# v14.1.3
## (2022-12-08)

* Update Flowzone workflow to support external contributions [Kyle Harding]
* Build systemd variant for both amd64 and arm64 [Kyle Harding]

# v14.1.2
## (2022-11-30)

* Allow plain TLD certs without UUID [ab77]

# v14.1.1
## (2022-11-29)

* Correct public|private cert. check [ab77]

# v14.1.0
## (2022-11-24)

* Enable builds of no-systemd variant for arm64 [Kyle Harding]

# v14.0.1
## (2022-11-09)

* Update nodejs to 18.12.1 [Pagan Gazzard]

# v14.0.0
## (2022-10-27)

* Update to nodejs 18 [Pagan Gazzard]

# v13.6.1
## (2022-10-24)

* Update nodejs to 18.18.0 [Pagan Gazzard]

# v13.6.0
## (2022-10-14)

* Update balenalib/amd64-debian-node Docker tag to v16.18.0 [Renovate Bot]

# v13.5.3
## (2022-10-14)

* Switch to Flowzone for CI/CD [Kyle Harding]

# v13.5.2
## (2022-09-26)

* Update to nodejs 16.17.1 [Pagan Gazzard]

# v13.5.1
## (2022-08-22)

* Update nodejs to 16.17.0 and npm to 8.18.0 [Pagan Gazzard]

# v13.5.0
## (2022-08-18)

* Update balenalib/amd64-debian-node Docker tag to v16.17.0 [Renovate Bot]

# v13.4.0
## (2022-07-09)

* Update nodejs to 16.16.0 and npm to 8.13.2 [Pagan Gazzard]

# v13.3.2
## (2022-06-08)

* Update nodejs to 16.15.1 and npm to 8.12.1 [Pagan Gazzard]

# v13.3.1
## (2022-05-05)

* Add SystemMaxUse for journald.conf [Pagan Gazzard]

# v13.3.0
## (2022-05-02)

* Update nodejs to 16.15.0 and npm to 8.8.0 [Pagan Gazzard]

# v13.2.3
## (2022-04-08)

* Add support to map tokens from existing env [ab77]

# v13.2.2
## (2022-04-05)

* Remove redundant package-lock.json [Akis Kesoglou]

# v13.2.1
## (2022-03-21)

* Update nodejs to 16.14.2 and npm to 8.5.5 [Pagan Gazzard]

# v13.2.0
## (2022-02-22)

* Consistent SENTRY environment names [ab77]

# v13.1.0
## (2022-02-21)

* Update nodejs to 16.14.0 and npm to 8.5.1 [Pagan Gazzard]

# v13.0.7
## (2022-02-16)

* Avoid cryptic names and rename bcr to registry-proxy [Kyle Harding]

# v13.0.6
## (2022-02-15)

* Add new balena container registry (bcr) host [Kyle Harding]

# v13.0.5
## (2022-02-01)

* Refactor ROOT_CA handling/resolution [ab77]

# v13.0.4
## (2022-01-11)

* Update to nodejs 16.13.2 and npm 8.3.0 [Pagan Gazzard]

# v13.0.3
## (2021-12-08)

* Update to nodejs 16.13.1 and npm 8.2.0 [Pagan Gazzard]

# v13.0.2
## (2021-11-19)

* Stage stack global environment [ab77]

# v13.0.1
## (2021-11-01)

* Install python3 for node-gyp 8.x which is used by npm 8 [Pagan Gazzard]

# v13.0.0
## (2021-10-30)

* Update nodejs to 16.13.0 and npm 8.1.1 [Pagan Gazzard]

# v12.2.0
## (2021-10-18)

* Update nodejs to 14.18.1 and npm to 6.14.15 [Pagan Gazzard]

# v12.1.1
## (2021-10-14)

* Simplify config by baking the device UUID into the DNS_TLD if available [Akis Kesoglou]
* Fix configuration for non-BoB deployments [Akis Kesoglou]

# v12.1.0
## (2021-09-24)

* Auto-configure balenaMachine(bob) [ab77]

# v12.0.3
## (2021-09-01)

* Attempt to load root CA certificate bundle from file [ab77]

# v12.0.2
## (2021-08-24)

* Use multi-user.target as the default target [Pagan Gazzard]

# v12.0.1
## (2021-08-19)

* Use basic.target as the default target [Pagan Gazzard]

# v12.0.0
## (2021-08-17)

* Update to debian bullseye [Pagan Gazzard]

# v11.3.12
## (2021-08-13)

* Add hosts [ab77]

# v11.3.11
## (2021-08-13)

* Remove deprecated etcd config [ab77]

# v11.3.10
## (2021-08-13)

* Add missing init script [ab77]

# v11.3.9
## (2021-08-13)

* Update no-systemd variant [ab77]

# v11.3.8
## (2021-08-12)

* Update nodejs to 14.17.5 [Pagan Gazzard]

# v11.3.7
## (2021-07-30)

* Use DNS_TLD internally [ab77]

# v11.3.6
## (2021-07-30)

* Accept DNS_TLD in place of BALENA_TLD [ab77]

# v11.3.5
## (2021-07-30)

* Update nodejs to 14.17.4 and npm to 6.14.14 [Pagan Gazzard]

# v11.3.4
## (2021-07-30)

* Correct env var name and sort [ab77]

# v11.3.3
## (2021-07-29)

* Add parallel HOSTs and env vars [ab77]

# v11.3.2
## (2021-07-02)

* Update nodejs to 14.17.2 [Pagan Gazzard]

# v11.3.1
## (2021-06-30)

* Delete .github directory [dfunckt]

# v11.3.0
## (2021-06-30)

* Update nodejs to 14.17.1 [Trong Nghia Nguyen]

# v11.2.0
## (2021-05-14)

* Update nodejs to 14.17.0 and npm to 6.14.13 [Pagan Gazzard]

# v11.1.2
## (2021-04-08)

* Update nodejs to 14.16.1 and npm to 6.14.12 [Pagan Gazzard]

# v11.1.1
## (2021-03-17)

* Drop CircleCI [ab77]

# v11.1.0
## (2021-02-24)

* Update nodejs to 14.16.0 [Pagan Gazzard]

# v11.0.5
## (2021-02-15)

* Update nodejs to 14.15.5 and npm to 6.14.11 [Pagan Gazzard]

# v11.0.4
## (2021-01-08)

* Update nodejs to 14.15.4 and npm to 6.14.10 [Pagan Gazzard]

# v11.0.3
## (2020-12-18)

* Update nodejs to 14.15.3 and npm to 6.14.9 [Pagan Gazzard]

# v11.0.2
## (2020-11-18)

* Update nodejs to 14.15.1 [Pagan Gazzard]

# v11.0.1
## (2020-10-29)

* Publish tagged versions of the no-systemd image [Pagan Gazzard]

# v11.0.0
## (2020-10-27)

* Update to nodejs 14 [Pagan Gazzard]

# v10.1.1
## (2020-10-09)

* Fix no-systemd nodejs version [Pagan Gazzard]

# v10.1.0
## (2020-10-07)

* Update nodejs to 12.19.0 [Pagan Gazzard]

# v10.0.2
## (2020-09-17)

* Delete custom versionist.conf.js and add repo.yml [Giovanni Garufi]

## v10.0.1 - 2020-09-17

* Update nodejs to 12.18.4 and npm to 6.14.8 [Pagan Gazzard]

## v10.0.0 - 2020-08-26

* Remove support for etcd-based confd config [Will Boyce]

## v9.4.3 - 2020-07-24

* Update nodejs to 12.18.3 and npm to 6.14.7 [Pagan Gazzard]

## v9.4.2 - 2020-06-30

* Update nodejs to 12.18.2 [Pagan Gazzard]

## v9.4.1 - 2020-06-19

* Update nodejs to 12.18.1 [Pagan Gazzard]

## v9.4.0 - 2020-06-08

* Update nodejs to 12.18.0 [Pagan Gazzard]

## v9.3.0 - 2020-05-29

* Update nodejs to 12.17.0 and npm to 6.14.5 [Pagan Gazzard]

## v9.2.4 - 2020-04-30

* Update nodejs to 12.16.3 [Pagan Gazzard]

## v9.2.3 - 2020-04-15

* Forward log from journald to console by default [Trong Nghia Nguyen]

## v9.2.2 - 2020-04-09

* Update nodejs to 12.16.2, npm to 6.14.4 [Pagan Gazzard]

## v9.2.1 - 2020-02-20

* Update nodejs to 12.16.1 [Pagan Gazzard]

## v9.2.0 - 2020-02-11

* Update nodejs to 12.16.0 [Pagan Gazzard]

## v9.1.0 - 2020-02-06

* Update nodejs to 12.15.0 and npm to 6.13.7 [Pagan Gazzard]

## v9.0.5 - 2020-01-10

* Update nodejs to 12.14.1 and npm to 6.13.6 [Pagan Gazzard]

## v9.0.4 - 2020-01-07

* Mask apt-daily-upgrade.timer [Pagan Gazzard]

## v9.0.3 - 2019-12-24

* Update nodejs to 12.14.0 and npm to 6.13.4 [Pagan Gazzard]

## v9.0.2 - 2019-12-20

* Don't use UID used in node archive when unpacking as root [Federico Fissore]

## v9.0.1 - 2019-11-15

* Update node to 12 in no systemd variant [Roman Mazur]

## v9.0.0 - 2019-10-21

* Update to nodejs 12 [Pagan Gazzard]

## v8.1.0 - 2019-09-24

* Respect BALENA_TLD env variable in nosystemd variant [Roman Mazur]
* Optimize for caching [Roman Mazur]
* Use balena node base image [Roman Mazur]
* Add a base image without systemd [Roman Mazur]

## v8.0.3 - 2019-08-16

* ðŸ”’: Update Node to 10.16.3 and NPM to 6.10.3 [Andreas Fitzek]

## v8.0.2 - 2019-08-06

* Update nodejs to 10.16.1 and npm to 6.10.2 [Pagan Gazzard]

## v8.0.1 - 2019-07-17

* Mdns: Ensure multipart subdomains are allowed [Heds Simons]

## v8.0.0 - 2019-07-08

* Upgrade to debian buster [Pagan Gazzard]

## v7.2.2 - 2019-06-19

* Systemd: move StartLimitIntervalSec to proper conf section [Matthew McGinn]

## v7.2.1 - 2019-06-03

* Fix adding htoprc [Pagan Gazzard]

## v7.2.0 - 2019-05-29

* Add default htop settings to hide threads and use a tree view [Pagan Gazzard]

## v7.1.0 - 2019-05-29

* Update nodejs to 10.16.0 and npm to 6.9.0 [Pagan Gazzard]

## v7.0.2 - 2019-05-06

* Disable the apt daily timer [Pagan Gazzard]

## v7.0.1 - 2019-05-06

* Disable start limit for confd.service [Pagan Gazzard]

## v7.0.0 - 2019-03-14

* Hostname-vars: Ensure previous hostname envvars aren't overwritten [Heds Simons]

## v6.0.1 - 2019-03-14

* Versionbot: Add CHANGELOG.yml (for nested changelogs) [Will Boyce]

## v6.0.0 - 2019-03-11

* Envvars: Add Monitor host and use balena UUID [Heds Simons]

## v5.3.3 - 2019-03-11

* Update node to v10.15.3 [Pagan Gazzard]

## v5.3.2 - 2019-03-08

* Codeowners: Add backend team as owners [Heds Simons]

## v5.3.1 - 2019-03-01

* Update nodejs to 10.15.2 and npm to 6.8.0 [Pagan Gazzard]

## v5.3.0 - 2019-02-06

* Journald: set RuntimeMaxUse=100M [Will Boyce]
* Update nodejs to 10.15.1 [Pagan Gazzard]

## v5.2.1 - 2019-02-04

* Confd: Fix backslashes being removed from envvars [Michael Angelos Simos]

## v5.2.0 - 2019-02-04

* Confd: Update to v0.16.0 [Will Boyce]

## v5.1.0 - 2019-01-29

* Update nodejs to 10.15.0 and npm to 6.7.0 [Pagan Gazzard]

## v5.0.1 - 2018-12-03

* Update to node 10.14.1 [Pagan Gazzard]

## v5.0.0 - 2018-10-30

* Update nodejs to 10.x [Pagan Gazzard]

## v4.5.0 - 2018-10-24

* Subdomains: Autoset subdomain envvars based on device UUID [Heds Simons]

## v4.4.2 - 2018-10-23

* Rename: s/resin/balena [Will Boyce]

## v4.4.1 - 2018-09-26

* Dns: Prioritise DNS over MDNS lookups for aliases [Heds Simons]

## v4.4.0 - 2018-09-21

* Logging: Allow child components	to log to the console [Heds Simons]

## v4.3.0 - 2018-09-11

* Update to nodejs 8.12.0 and npm 6.4.1 [Pagan Gazzard]

## v4.2.2 - 2018-08-20

* Update to nodejs 8.11.4 #54 [Pagan Gazzard]

## v4.2.1 - 2018-07-03

* Update to nodejs 8.11.3 #53 [Pagan Gazzard]

## v4.2.0 - 2018-07-03

* Add `libnss-mdns` to base images for MDNS lookups. #52 [Heds Simons]

## v4.1.0 - 2018-05-16

* Update to nodejs 8.11.2 and npm 5.10.0 #50 [Pagan Gazzard]

## v4.0.0 - 2018-04-26

* Update to debian stretch #49 [Pagan Gazzard]

## v3.4.1 - 2018-04-24

* Fix disabling systemd rate limiting. #48 [Pagan Gazzard]

## v3.4.0 - 2018-04-11

* Add `balena-root-ca.service` unit file for self-signed CA handling. #47 [Heds Simons]

## v3.3.0 - 2018-03-12

* Support confd env back-end switch, #45 [Michael Angelos Simos]

## v3.2.0 - 2018-03-09

* Upgrade confd to v0.15.0 #44 [Michael Angelos Simos]

## v3.1.0 - 2018-03-08

* Update nodejs to 8.10.0 and npm to 5.6.0 #41 [Pagan Gazzard]

## v3.0.1 - 2017-11-29

* Turn off journald rate limiting #40 [Cameron Diver]

## v3.0.0 - 2017-11-01

* Update nodejs to 8.9.0 and npm to 5.5.1 #29 [Pagan Gazzard]

## v2.9.2 - 2017-10-25

* Update node to 6.11.5 #39 [Andreas Fitzek]

## v2.9.1 - 2017-09-12

* Fix tag detection on circle builds #37 [John (Jack) Brown]

## v2.9.0 - 2017-09-11

* Update confd to version 0.13.0 #35 [Lucian Buzzo]

## v2.8.5 - 2017-09-08

* Add CircleCI integration #36 [John (Jack) Brown]

## v2.8.4 - 2017-07-27

* Add versionist config [John (Jack) Brown]

# 2.8.3

* Update node to 6.11.1

# 2.8.2

* Update rsyslog config to use disk-buffering and retry when connection to logentries fails

# 2.8.1

* Update rsyslog config to use ca-certificate chain from debian

# 2.8.0

* Updated node to 6.10.2 and npm to 4.5.0

# 2.7.1

* Updated node to 6.9.1

# 2.7.0

* Updated node to 6.9.0 and npm to 3.10.8

# 2.6.0

* Updated node to 6.6.0

# 2.5.0

* Updated node to 6.5.0

# 2.4.0

* Updated node to 6.4.0

# 2.3.0

* Updated node to 6.3.0 and npm to 3.10.3

# 2.2.0

* Updated node to 6.2.2 and npm to 3.9.5

# 2.1.0

* Updated node to 6.2.0 and npm to 3.8.9

# 2.0.0

* Updated node to 6.0.0 and npm to 3.8.8
* Updated to confd 0.11.0
* Removed parted

# 1.4.0

* Updated node to 4.4.3 and npm to 2.15.4

# 1.3.0

* Added the ability to force a full rebuild
* Added some debug utils

# 1.2.0

* Update node version to 4.2.6

# 1.1.0

* Allowed running in an unprivileged container

# 1.0.0

* Initial version
